(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{220:function(e,t,a){"use strict";a.r(t);var l=a(32),s=a(27),n=a(16),c=a(17),i=a(19),o=a(18),r=a(20),m=a(0),d=a.n(m),p=a(13),u=a(73),g=a(10),v=a(213),h=a(48),b=a(26),E=a(4),N=a(30),f=a(47),y=a(6),O=a(8),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).intialiseState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{clubName:Object(E.d)(e,"clubName",""),continent:Object(E.d)(e,"continent",""),country:Object(E.d)(e,"country",""),city:Object(E.d)(e,"city",""),address:Object(E.d)(e,"address",""),country_name:e.countryObj?[e.countryObj]:[],city_name:e.cityObj?[e.cityObj]:[],logo1:Object(E.d)(e,"logo1",""),logo2:Object(E.d)(e,"logo2",""),map1:Object(E.d)(e,"map1",""),map2:Object(E.d)(e,"map2",""),attachments:[],photos:Object(E.d)(e,"photos",[]),visit:Object(E.d)(e,"visit",""),benfit:Object(E.d)(e,"benfit",""),facelities:Object(E.d)(e,"facelities",""),recommend:Object(E.d)(e,"recommend",""),url:Object(E.d)(e,"url",""),latlng:Object(E.d)(e,"latlng",""),errorMessages:{},isValid:{}}},a.validate=function(e,t){if(a.rf.indexOf(e)>-1||t){var l=a.state,s=l.isValid,n=l.errorMessages,c=Object(f.a)(e,t,{type:"text",regexType:"url"===e?"url":"noop"});s[e]=c.isValid,c.isValid?delete n[e]:n[e]=c.errorMsg,a.setState({isValid:s,errorMessages:n})}else{var i=a.state,o=i.isValid,r=i.errorMessages;o[e]=!0,delete r[e],a.setState({isValid:o,errorMessages:r})}},a.inputChange=function(e){var t=e.target,l=t.name,n=t.value,c=t.checked,i=t.type;a.setState(Object(s.a)({},l,"checkbox"===i?c:n),function(){a.validate(l,n)})},a.setChips=function(e,t){var l;arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.setState((l={},Object(s.a)(l,t,e&&e.length?e[0].id:""),Object(s.a)(l,t+"_name",e),l))},a.onDrop=function(e,t,l){e.length&&(a.setState({bulkFiles:e,uploadType:l}),a.toggleUploader(!0))},a.toggleUploader=function(e){a.setState({isUploader:e},function(){document.getElementById("click")&&document.getElementById("click").click()})},a.setBulkPhotos=function(e,t,n){if(e&&e.length){if("attachments"===n){var c=e.map(function(e){return e.thumbnail});a.setState(Object(s.a)({},n,[].concat(Object(l.a)(a.state[n]),Object(l.a)(c))))}else a.setState(Object(s.a)({},n,e[0].thumbnail));var i=e[0];a.setState({image:i.thumbnail,isUploader:!1,isImageAdded:!0},function(){document.getElementById("click")&&document.getElementById("click").click()})}},a.onSubmit=function(e){if(e.preventDefault(),a.rf.forEach(function(e){a.validate(e,a.state[e])}),0==Object.keys(a.state.errorMessages).length){a.setState({error:"",isSaving:!0});var t=Object.assign({},a.state);t.token=a.props.token,delete t.errorMessages,delete t.isValid,a.props.id&&(t.id=a.props.id),a.props.updatePageData({payload:t,url:"".concat(y.d.GLOBAL_ACCESS).concat(a.props.id?"/"+a.props.id:""),method:"POST",action:a.props.id?"update":"add",page:"ga",dataToUpdate:[{key:"refresh",value:!0}]},function(e){e.status?(a.setState({error:"",isSaving:!1}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message,isSaving:!1})})}},a.deleteItem=function(e){a.props.updatePageData({payload:{},params:{token:a.props.token},url:"".concat(y.d.GLOBAL_ACCESS,"/").concat(a.props.id),method:"DELETE",action:"delete",page:"ga",dataToUpdate:[{key:"refresh",value:!0}]},function(e){e.status?(a.setState({error:""}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message})})},a.removeImage=function(e,t,l){e.preventDefault(),a.setState(Object(s.a)({},l,a.state[l].filter(function(e,a){return a!=t})))},a.imgUrls={},a.rf=["clubName","continent","country","city","address"],a.state=a.intialiseState(),a}return Object(r.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSuggestions({url:"".concat(y.d.LOCATION,"?type=continent&token=").concat(this.props.token),type:"combo"}),this.props.id&&this.props.getIndividualItem({params:{token:this.props.token},url:"".concat(y.d.GLOBAL_ACCESS,"/").concat(this.props.id)})}},{key:"componentWillUnmount",value:function(){this.props.resetPageStore("individualItem")}},{key:"componentDidUpdate",value:function(e,t){if(this.props.id&&e.itemData!=this.props.itemData&&Object(N.d)(this.props.itemData)&&!Object(N.c)(this.props.itemData)&&!this.state.isUploader){var a=this.intialiseState(this.props.itemData);this.setState(a)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.bulkFiles,l=t.isUploader,s=t.uploadType,n=t.isSaving,c=t.clubName,i=t.continent,o=t.country,r=(t.city,t.address),m=t.city_name,p=t.country_name,N=t.logo1,f=t.logo2,O=t.attachments,j=t.errorMessages,k=t.isValid,C=t.visit,x=t.benfit,S=t.facelities,D=t.recommend,I=t.url,L=t.latlng,w=t.photos,U=t.map1,_=t.map2,M=this.props,A=M.continentList,B=M.token,V=M.id;return M.itemLoader?d.a.createElement(b.default,null):d.a.createElement(d.a.Fragment,null,l&&d.a.createElement("div",{className:"editProfile mt30"},d.a.createElement(v.default,{files:a,onComplete:this.setBulkPhotos,onBack:this.toggleUploader,folder:"globalAccess",uploadType:s,isSideNav:"attachments"===s,isPopup:!0,config:{aspectRatio:"p2"}})),!l&&d.a.createElement("div",{className:"eventModal globalAccessModal"},d.a.createElement("p",{className:"title-txt",id:"click"},V?"EDIT NEW CLUB":"ADD A NEW CLUB"),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"left-content"},d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Name of Club")),d.a.createElement("div",{className:"col-9"},d.a.createElement(g.default,{name:"clubName",value:c,isValid:k.clubName,errorMsg:j.clubName,inputChange:this.inputChange,dom:{placeholder:"Name of Club"}}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Continent")),d.a.createElement("div",{className:"col-9"},d.a.createElement(g.default,{name:"continent",value:i,isValid:k.continent,errorMsg:j.continent,inputChange:this.inputChange,options:A,dom:{placeholder:"Select Continent",type:"select"}}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Country")),d.a.createElement("div",{className:"col-9"},d.a.createElement(h.default,{placeholder:"Country",className:"checkIn-search",name:"country",namespace:"countryList",isFlag:!l,livesearch:!0,autocomplete:!1,disabled:!i,service:"".concat(y.d.LOCATION,"?type=country&token=").concat(B,"&pid=").concat(i),vk:"id",sk:"name",isSingle:!0,chips:p,maxCount:1,setChips:this.setChips}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"City")),d.a.createElement("div",{className:"col-9"},d.a.createElement(h.default,{placeholder:"City",className:"checkIn-search",disabled:!o,name:"city",isFlag:!l,namespace:"cityList",livesearch:!0,autocomplete:!1,service:"".concat(y.d.LOCATION,"?type=city&token=").concat(B,"&pid=").concat(o),vk:"id",sk:"name",chips:m,isSingle:!0,maxCount:1,setChips:this.setChips}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Location")),d.a.createElement("div",{className:"col-9"},d.a.createElement(g.default,{name:"latlng",value:L,isValid:k.latlng,errorMsg:j.latlng,inputChange:this.inputChange,dom:{placeholder:"Location",type:"text"}}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"URL")),d.a.createElement("div",{className:"col-9"},d.a.createElement(g.default,{name:"url",value:I,isValid:k.url,errorMsg:j.url,inputChange:this.inputChange,dom:{placeholder:"URL",type:"text"}}))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Address")),d.a.createElement("div",{className:"col-9"},d.a.createElement("textarea",{className:"input-style h100px",name:"address",value:r,onChange:this.inputChange}),!k.address&&d.a.createElement("p",{className:"error_msg"}," ",j.address))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Facelities")),d.a.createElement("div",{className:"col-9"},d.a.createElement("textarea",{className:"input-style h100px",name:"facelities",value:S,onChange:this.inputChange}),!k.facelities&&d.a.createElement("p",{className:"error_msg"}," ",j.facelities))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Recommendation")),d.a.createElement("div",{className:"col-9"},d.a.createElement("textarea",{className:"input-style h100px",name:"recommend",value:D,onChange:this.inputChange}),!k.recommend&&d.a.createElement("p",{className:"error_msg"}," ",j.recommend))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Benfits")),d.a.createElement("div",{className:"col-9"},d.a.createElement("textarea",{className:"input-style h100px",name:"benfit",value:x,onChange:this.inputChange}),!k.benfit&&d.a.createElement("p",{className:"error_msg"}," ",j.benfit))),d.a.createElement("div",{className:"row no-gutters"},d.a.createElement("div",{className:"col-3"},d.a.createElement("label",{className:"label-txt"},"Visits")),d.a.createElement("div",{className:"col-9"},d.a.createElement("textarea",{className:"input-style h100px",name:"visit",value:C,onChange:this.inputChange}),!k.visit&&d.a.createElement("p",{className:"error_msg"}," ",j.visit))))),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"right-content img-scroll"},d.a.createElement("label",{className:"label-txt pt0"},"Club Logos"),d.a.createElement("div",{className:"d-flex"},d.a.createElement("div",{className:"min100 mr10"},d.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a,"logo1")}},d.a.createElement("div",{className:"image-style upload-photo  upload-logo "+(N&&"uploadtxt"),style:{backgroundImage:"url(".concat(Object(E.e)(N)?this.imgUrls.logo1:N,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"})))),d.a.createElement("div",{className:"min100"},d.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a,"logo2")}},d.a.createElement("div",{className:"image-style upload-photo upload-logo  "+(f&&"uploadtxt"),style:{backgroundImage:"url(".concat(Object(E.e)(f)?this.imgUrls.logo2:f,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"}))))),d.a.createElement("label",{className:"label-txt"},"Club Maps"),d.a.createElement("div",{className:"d-flex"},d.a.createElement("div",{className:"min100 mr10"},d.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a,"map1")}},d.a.createElement("div",{className:"image-style upload-photo  upload-logo "+(U&&"uploadtxt"),style:{backgroundImage:"url(".concat(Object(E.e)(U)?this.imgUrls.map1:U,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"})))),d.a.createElement("div",{className:"min100"},d.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a,"map2")}},d.a.createElement("div",{className:"image-style upload-photo upload-logo  "+(_&&"uploadtxt"),style:{backgroundImage:"url(".concat(Object(E.e)(_)?this.imgUrls.map2:_,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"}))))),d.a.createElement("label",{className:"label-txt"},"Club Photos"),d.a.createElement("div",{className:"d-flex flex-wrap"},d.a.createElement("div",{className:"image-style upload-photo mb10"},d.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!0,onDrop:function(t,a){e.onDrop(t,a,"attachments",!0)}},d.a.createElement("img",{src:"/images/imagesize1_1.png",className:"w100per"}))),w.length>0&&w.map(function(t,a){return d.a.createElement("div",{className:"image-style mb10",key:"file_"+a},d.a.createElement("div",{className:"image-style upload-photo  uploadtxt",style:{backgroundImage:"url(".concat(Object(E.e)(t)?URL.createObjectURL(t):t.image,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"})),d.a.createElement("span",{className:"deleteBtn",onClick:function(t){return e.removeImage(t,a,"photos")}},"+"))}),O.length>0&&O.map(function(t,a){return d.a.createElement("div",{className:"image-style mb10",key:"file_"+a},d.a.createElement("div",{className:"image-style upload-photo  uploadtxt",style:{backgroundImage:"url(".concat(t,")")}},d.a.createElement("img",{src:"./images/imagesize1_1.png",className:"w100per"})),d.a.createElement("span",{className:"deleteBtn",onClick:function(t){return e.removeImage(t,a,"attachments")}},"+"))}))))),d.a.createElement("div",{className:"text-right mt20"},V&&d.a.createElement("div",{className:"btn mr10",onClick:this.deleteItem},"delete"),d.a.createElement("div",{className:"btn ".concat(n?"btndisabled":""),onClick:this.onSubmit},V?"update":"save"))))}}]),t}(m.Component);t.default=Object(p.b)(function(e){var t=e.page,a=t.continentList,l=void 0===a?[]:a,s=t.individualItem.data,n=void 0===s?{}:s,c=t.itemLoader;return{continentList:l,itemData:n,itemLoader:void 0!==c&&c,token:e.auth.token}},function(e,t){return{fetchSuggestions:function(t){return e(Object(O.a)(t,"continentList"))},updatePageData:function(t,a){return e(Object(O.g)(t,a))},getIndividualItem:function(t){return e(Object(O.b)(t))},resetPageStore:function(t){return e(Object(O.d)(t))}}})(j)}}]);
//# sourceMappingURL=9.be0893e8.chunk.js.map