(window.webpackJsonp=window.webpackJsonp||[]).push([[2,3,11],{211:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(17),l=a(19),r=a(18),s=a(20),c=a(0),i=a.n(c),m=a(13),u=a(314),d=a(309),p=a(310),h=a(97),f=a(26),g=a(8),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).closeModal=function(e){e&&e.preventDefault(),a.setState({modal:null,module:null,isOpen:!1}),a.props.updateModalData({showCustomModal:!1,addon:!0})},a.scrollTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=document.getElementById("scrollRef");t.scrollTop=t.scrollTop+e},a.scrollRef=null,a.state={modal:null,module:null,isLoaded:!1,isOpen:!1,body:""},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(e.modal!==this.props.modal){var o=this.props.modal;this.setState({isOpen:o.showCustomModal}),o.path?a(212)("./".concat(o.path)).then(function(e){return n.setState({module:e.default,isLoaded:!0,body:""})}).catch(function(e){console.log(e)}):o.body&&this.setState({body:o.body,module:"",isLoaded:!0})}}},{key:"render",value:function(){var e=this.state,t=e.module,a=e.modal,n=e.isLoaded,o=e.body,l=this.props.footer;return i.a.createElement(u.a,{isOpen:a.showCustomModal,className:a.className,backdrop:"static"},i.a.createElement("div",null,i.a.createElement("a",{href:"#",className:"btn-close pa",onClick:this.closeModal},i.a.createElement("span",{className:"pclose"},"+"))),i.a.createElement(d.a,{id:"scrollRef"},!n&&i.a.createElement(f.default,null),n&&t&&i.a.createElement(t,Object.assign({},a,{closeModal:this.closeModal,toastmessage:this.props.toastmessage,scrollTo:this.scrollTo})),n&&o&&o),l&&i.a.createElement(p.a,null,i.a.createElement(h.a,{color:"secondary",onClick:this.closeModal},"Cancel")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.modal!==t.modal?{modal:e.modal}:null}}]),t}(c.Component);t.default=Object(m.b)(function(e){var t=e.page.addonmodal;return{modal:void 0===t?{showCustomModal:!1}:t}},{updateModalData:g.f})(v)},214:function(e,t,a){"use strict";a.r(t);var n=a(32),o=a(16),l=a(17),r=a(19),s=a(18),c=a(20),i=a(0),m=a.n(i),u=(a(320),["January","February","March","April","May","June","July","August","September","October","November","December"]),d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=e||new Date;var t=new Date;t.setHours(0,0,0,0);var o=e.getMonth(),l=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),s={month:o,dateObj:e,monthName:u[o],date:e.getDate(),firstDay:l.getDay(),totalDay:r.getDate(),year:e.getFullYear(),currentDate:t,currentTimestamp:t.getTime()},c=[];s.firstDay>0&&(c=new Array(s.firstDay).fill(null));for(var i=1;i<=s.totalDay;i++){i=i>9?i:"0".concat(i);var m=new Date(s.year,s.month,i,0,0,0,0),d=m.getTime(),p=s.currentTimestamp===d,h=a.isDisabled(d),f=p?"active":"";f=h?f+" disable":f,c=[].concat(Object(n.a)(c),[{day:i,isCurrent:p,timestamp:d,date:m,hd:"".concat(i,"/").concat(s.month,"/").concat(s.year),isDisabled:h,className:f}])}return s.days=c,s},a.isDisabled=function(e){var t=a.props,n=t.maxdate,o=t.mindate;return n?(n.setHours(0,0,0,0),n.getTime()<e):!!o&&(o.setHours(0,0,0,0),o.getTime()>e)},a.goToMonth=function(e,t){var n=Object.assign({},a.state.calendar);n.month=t?n.month-1:n.month+1,n.month<0&&(n.month=11,n.year=n.year-1),n.month>11&&(n.month=0,n.year=n.year+1);var o=new Date("".concat(n.year,"-").concat(n.month+1,"-01"));a.setState({calendar:a.init(o)})},a.onDateSelect=function(e){e.isDisabled||a.props.onDateSelect&&a.props.onDateSelect(e)},a.state={calendar:a.init()},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.calendar;return m.a.createElement("div",{className:"calendar"},m.a.createElement("div",{className:"month"},m.a.createElement("ul",null,m.a.createElement("li",{className:"prev",onClick:function(t){return e.goToMonth(t,!0)}},"\u276e"),m.a.createElement("li",{className:"next",onClick:function(t){return e.goToMonth(t,!1)}},"\u276f"),m.a.createElement("li",null,t.monthName,m.a.createElement("span",{style:{fontSize:"20px",paddingLeft:"10px"}},t.year)))),m.a.createElement("ul",{className:"weekdays"},m.a.createElement("li",null,"S"),m.a.createElement("li",null,"M"),m.a.createElement("li",null,"T"),m.a.createElement("li",null,"W"),m.a.createElement("li",null,"T"),m.a.createElement("li",null,"F"),m.a.createElement("li",null,"S")),m.a.createElement("ul",{className:"days"},t.days.map(function(t,a){return m.a.createElement("li",{key:a},t&&m.a.createElement("span",{className:t.className,onClick:function(a){return e.onDateSelect(t)}},t.day))})))}}]),t}(i.PureComponent);t.default=d},223:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(17),l=a(19),r=a(18),s=a(20),c=a(0),i=a.n(c),m=a(13),u=a(37),d=a(211),p=a(214),h=a(8),f=a(6),g=a(4),v=a(50),D=a(26),E=["08","10","12","14","16","18","20","22","24"],y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).selectDate=function(e){a.setState({date:e,isinit:!0,currentDate:e.date},function(){a.getList()})},a.getList=function(){a.props.getPageData({params:{token:a.props.token,group:a.props.groupName,date:Object(g.a)(a.state.currentDate,"YYYY-MM-DD")},url:f.d.RESERVATION})},a.goTo=function(e,t){e.preventDefault();var n=t?-1:1,o=a.state.currentDate;o.setDate(o.getDate()-n),a.setState({currentDate:o,isinit:!0},function(){a.getList()})},a.disableifPast=function(e){e.setHours(0,0,0,0);var t=new Date;return t.setHours(0,0,0,0),t.getTime()>e.getTime()},a.state={section:"calendar",date:{},currentDate:"",timestamp:null,isinit:!0,list:[],graphData:{},reserveFor:""},a}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="";this.props.groupData&&this.props.groupData.length&&(this.props.groupData.forEach(function(a,n){t+="".concat(a.type).concat(n==e.props.groupData.length-1?"":", ")}),this.setState({reserveFor:t}))}},{key:"componentWillUnmount",value:function(){this.props.resetPageStore("pageData")}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.props.updatedData!=e.updatedData&&this.props.updatedData&&"reserve"==this.props.updatedData.page){var n=this.props.updatedData,o=n.action;n.data;"update"!=o&&"add"!=o&&"delete"!=o||this.setState({isinit:!0},function(){a.getList()}),this.props.resetPageStore("updatedData")}}},{key:"render",value:function(){var e=this,t=this.state,a=t.section,n=(t.date,t.currentDate),o=t.isinit,l=t.graphData,r=l.rtype,s=void 0===r?[]:r,c=l.rooms,m=void 0===c?{}:c,h=l.graphData,f=void 0===h?{}:h,v=t.reserveFor;return i.a.createElement("div",{className:"reservedRoom"},"slot"==a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{onClick:function(t){return e.goTo(t,!1)}},i.a.createElement("i",{className:"fa fa-angle-left"})),i.a.createElement("span",{onClick:function(t){return e.goTo(t,!0)}},i.a.createElement("i",{className:"fa fa-angle-right"}))),i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("div",{className:"_title room-title"},"RESERVE ",v)),i.a.createElement(d.default,{toastmessage:this.props.toastmessage}),"calendar"==a&&i.a.createElement(p.default,{onDateSelect:this.selectDate,mindate:new Date}),"slot"==a&&i.a.createElement("div",{className:"text-center"},o&&i.a.createElement(D.default,null),!o&&s.length>0&&i.a.createElement("div",{className:"bookingContainer"},i.a.createElement("p",{className:"txt-date"},Object(g.a)(n,"dddd, Do[,] MMMM YYYY")),i.a.createElement("div",{className:"row no-gutters mb5"},i.a.createElement("div",{className:"col-2"}),s.map(function(e){return i.a.createElement("div",{className:"col",key:"room_"+e},i.a.createElement("p",{className:"room-name"},m[e]))})),i.a.createElement("div",{className:"row no-gutters"},i.a.createElement("div",{className:"col-2"},i.a.createElement("div",{style:{maxHeight:"".concat(480,"px"),minHeight:"100%"}},E.map(function(e,t){return i.a.createElement("div",{style:{height:"".concat(t==E.length-1?0:58,"px")},key:e},i.a.createElement("p",{className:"txt-time"}," ",e))}))),s.map(function(t){return i.a.createElement("div",{className:"col",key:t+"_bookins"},i.a.createElement("div",{className:"room-space",style:{maxHeight:"".concat(480,"px"),minHeight:"100%"}},f[t].map(function(a,o){return i.a.createElement(u.default,{key:o,className:"blank-space p",disabled:e.disableifPast(n),style:{background:a.color,height:"".concat(parseInt(a.height),"px")},data:{showCustomModal:!0,addon:!0,rTypeId:t,room:m[t],date:n,bookingId:a.id,title:"",path:"reservation/reserve",body:"",className:"modal-large"}},i.a.createElement("div",{className:"d-flex flex-column justify-content-between h100per"},!a.isEmpty&&[i.a.createElement("p",{className:"bookedtime",key:"st"},a.st),i.a.createElement("p",{className:"bookedtime",key:"et"},a.et)]))})))})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.list!=t.list&&t.isinit&&e.list.length){var a=Object(v.b)(e.list,30,16);return{list:e.list,isinit:!1,graphData:a,section:"slot"}}return null}}]),t}(c.Component);t.default=Object(m.b)(function(e){var t=e.auth.token,a=e.page,n=a.pageData,o=n.data,l=void 0===o?[]:o,r=n.count,s=void 0===r?0:r,c=a.updatedData,i=void 0===c?{}:c,m=a.isLoader;return{token:t,isLoader:void 0!==m&&m,list:l,count:s,updatedData:i}},{getPageData:h.c,resetPageStore:h.d})(y)},320:function(e,t,a){}}]);
//# sourceMappingURL=2.a6920dc0.chunk.js.map