(window.webpackJsonp=window.webpackJsonp||[]).push([[4,11],{211:function(e,a,t){"use strict";t.r(a);var l=t(16),s=t(17),o=t(19),n=t(18),i=t(20),d=t(0),r=t.n(d),c=t(13),m=t(314),u=t(309),p=t(310),v=t(97),h=t(26),b=t(8),f=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(n.a)(a).call(this,e))).closeModal=function(e){e&&e.preventDefault(),t.setState({modal:null,module:null,isOpen:!1}),t.props.updateModalData({showCustomModal:!1,addon:!0})},t.scrollTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=document.getElementById("scrollRef");a.scrollTop=a.scrollTop+e},t.scrollRef=null,t.state={modal:null,module:null,isLoaded:!1,isOpen:!1,body:""},t}return Object(i.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,a){var l=this;if(e.modal!==this.props.modal){var s=this.props.modal;this.setState({isOpen:s.showCustomModal}),s.path?t(212)("./".concat(s.path)).then(function(e){return l.setState({module:e.default,isLoaded:!0,body:""})}).catch(function(e){console.log(e)}):s.body&&this.setState({body:s.body,module:"",isLoaded:!0})}}},{key:"render",value:function(){var e=this.state,a=e.module,t=e.modal,l=e.isLoaded,s=e.body,o=this.props.footer;return r.a.createElement(m.a,{isOpen:t.showCustomModal,className:t.className,backdrop:"static"},r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:"btn-close pa",onClick:this.closeModal},r.a.createElement("span",{className:"pclose"},"+"))),r.a.createElement(u.a,{id:"scrollRef"},!l&&r.a.createElement(h.default,null),l&&a&&r.a.createElement(a,Object.assign({},t,{closeModal:this.closeModal,toastmessage:this.props.toastmessage,scrollTo:this.scrollTo})),l&&s&&s),o&&r.a.createElement(p.a,null,r.a.createElement(v.a,{color:"secondary",onClick:this.closeModal},"Cancel")))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.modal!==a.modal?{modal:e.modal}:null}}]),a}(d.Component);a.default=Object(c.b)(function(e){var a=e.page.addonmodal;return{modal:void 0===a?{showCustomModal:!1}:a}},{updateModalData:b.f})(f)},215:function(e,a,t){"use strict";t.r(a);var l=t(14),s=t(32),o=t(27),n=t(16),i=t(17),d=t(19),r=t(18),c=t(20),m=t(0),u=t.n(m),p=t(13),v=t(10),h=t(26),b=t(4),f=t(30),E=t(47),g=t(8),N=t(6),I=t(37),k=t(211),y=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(d.a)(this,Object(r.a)(a).call(this,e))).intialiseState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:Object(b.d)(e,"title",""),videoUrl:Object(b.d)(e,"videoUrl",""),videoThumb:Object(b.d)(e,"videoThumb",""),about:Object(b.d)(e,"aboutAIOI",""),fb:Object(b.d)(e,"fb",""),tw:Object(b.d)(e,"tw",""),insta:Object(b.d)(e,"insta",""),linkedIn:Object(b.d)(e,"linkedIn",""),videos:Object(b.d)(e,"videos",[{videoUrl:"",videoThumb:"",about:""}]),errorMessages:{},isValid:{},videosErr:{},isSaving:!1}},t.validate=function(e,a){var l=t.state,s=l.isValid,o=l.errorMessages,n=Object(E.a)(e,a,{type:"text",regexType:"videoUrl"==e?"url":"noop"});s[e]=n.isValid,n.isValid?delete o[e]:o[e]=n.errorMsg,t.setState({isValid:s,errorMessages:o})},t.inputChange=function(e,a){var l=e.target,s=l.name,n=l.value,i=l.checked,d=l.type,r=l.imageUrl;if(a||0===a){var c=t.state,m=c.videosErr,u=c.videos,p=Object(E.a)(s,n,{type:"text",regexType:"videoUrl"==s?"url":"noop"});m[a]=m[a]?m[a]:{},p.isValid?delete m[a][s]:m[a][s]=p.errorMsg,u[a][s]=n,t.setState({videosErr:m,videos:u})}else t.setState(Object(o.a)({},s,"checkbox"==d?i:n),function(){["title","videoThumb","about"].indexOf(s)>-1&&t.validate(s,n),"videoThumb"===s&&t.setState({imageUrl:r})})},t.onSubmit=function(e){if(e.preventDefault(),["title","videoThumb","about"].forEach(function(e){t.validate(e,t.state[e])}),0==Object.keys(t.state.errorMessages).length){t.setState({error:"",isSaving:!0});var a=Object.assign({},t.state);a.token=t.props.token,delete a.errorMessages,delete a.isValid,t.props.updatePageData({payload:a,url:"".concat(N.d.IDEAS_MANAGE).concat(t.props.id?"/"+t.props.id:""),method:t.props.id?"PUT":"POST",action:t.props.id?"update":"add",page:"aoio",dataToUpdate:[{key:"videoThumb",value:t.state.imageUrl}]},function(e){e.status?(t.setState({error:"",isSaving:!1}),t.props.toastmessage(e.message),t.props.closeModal()):t.setState({error:e.message,isSaving:!1})})}},t.deleteItem=function(e){t.props.updatePageData({payload:{},params:{token:t.props.token},url:"".concat(N.d.IDEAS_MANAGE,"/").concat(t.props.id),method:"DELETE",action:"delete",page:"aoio"},function(e){e.status?(t.setState({error:"",isSaving:!1}),t.props.toastmessage(e.message),t.props.closeModal()):t.setState({error:e.message,isSaving:!1})})},t.removeId=function(e,a){e.preventDefault();var l=[],s={};a==t.state.videos.length-1?(l=[{videoUrl:"",videoThumb:"",about:""}],s={}):(l=t.state.videos.filter(function(e,t){return a!==t}),delete t.state.videosErr[a],s=t.state.videosErr),t.setState({videos:l,videosErr:s})},t.addMore=function(){t.setState({videos:[].concat(Object(s.a)(t.state.videos),[{videoUrl:"",videoThumb:"",about:""}])})},t.state=t.intialiseState(),t}return Object(c.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.id&&this.props.getIndividualItem({params:{token:this.props.token},url:"".concat(N.d.IDEAS_MANAGE,"/").concat(this.props.id)})}},{key:"componentWillUnmount",value:function(){this.props.resetPageStore("individualItem")}},{key:"componentDidUpdate",value:function(e,a){var t=this.props,s=t.itemData,o=t.updatedData;if(e.itemData!=s&&!Object(f.c)(s)){var n=this.intialiseState(this.props.itemData);this.setState(n)}if(o!=e.updatedData&&!Object(f.c)(o)&&"anioisocial"==o.page){var i=o.fb,d=void 0===i?"":i,r=o.insta,c=void 0===r?"":r,m=o.tw,u=void 0===m?"":m,p=o.linkedIn,v=void 0===p?"":p,h=o.type,b=o.index;if("p"==h&&this.setState({fb:d,insta:c,tw:u,linkedIn:v}),"s"==h){var E=this.state.videos;E[b]=Object(l.a)({},E[b],{fb:d,insta:c,tw:u,linkedIn:v}),this.setState({videos:E})}this.props.resetPageStore("updatedData")}}},{key:"render",value:function(){var e=this,a=this.state,t=a.title,l=a.videoUrl,s=a.videoThumb,o=a.about,n=a.videos,i=a.videosErr,d=a.fb,r=a.insta,c=a.tw,m=a.linkedIn,p=a.isValid,b=a.errorMessages,f=a.isSaving,E=this.props,g=E.itemLoader,N=E.id;return u.a.createElement("div",{className:"eventModal indiaofideas"},u.a.createElement("p",{className:"title-txt"},N?"EDIT INDIA OF IDEAS":"ADD A NEW AN INDIA OF IDEAS"),g&&u.a.createElement(h.default,null),!g&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-7"},u.a.createElement("div",{className:"row no-gutters mb15"},u.a.createElement("div",{className:"col-3"},u.a.createElement("label",{className:"label-txt"},"TITLE OF AIOI")),u.a.createElement("div",{className:"col-7"},u.a.createElement(v.default,{name:"title",groupClass:"input-style",value:t,isValid:p.title,errorMsg:b.title,inputChange:this.inputChange,dom:{placeholder:"TITLE OF AIOI"}})))),u.a.createElement("div",{className:"col-3"},u.a.createElement("div",{className:"btn w100per",onClick:this.addMore},"Add more videos"))),u.a.createElement("div",{className:"uploadVideoList horizontal d-flex"},u.a.createElement("div",{className:"listItem"},u.a.createElement("label",{className:"label-txt"},"Main Video URL"),u.a.createElement(v.default,{name:"videoUrl",groupClass:"input-style",value:l,isValid:p.videoUrl,errorMsg:b.videoUrl,inputChange:this.inputChange,dom:{placeholder:"Main Video URL"}}),u.a.createElement("label",{className:"label-txt"},"Upload Thumbnail"),u.a.createElement(v.default,{name:"videoThumb",groupClass:"input-style",value:s,isValid:p.videoThumb,errorMsg:b.videoThumb,inputChange:this.inputChange,section:"aioi",dom:{type:"file",placeholder:"Upload Thumbnail"}},u.a.createElement("p",{className:"input-style"},s||"Upload Thumbnail")),u.a.createElement("label",{className:"label-txt"},"About"),u.a.createElement("textarea",{className:"input-style h100px",name:"about",value:o,onChange:this.inputChange}),b.about&&u.a.createElement("p",{className:"error_msg"}," ",b.about),u.a.createElement("div",{className:"social-icon"},u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"p",fb:d,tw:c,insta:r,linkedIn:m},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-facebook-square"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"p",fb:d,tw:c,insta:r,linkedIn:m},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-twitter"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"p",fb:d,tw:c,insta:r,linkedIn:m},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-instagram"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"p",fb:d,tw:c,insta:r,linkedIn:m},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-link"}))))),n.length>0&&n.map(function(a,t){var l=i[t]?i[t]:{};return u.a.createElement("div",{className:"listItem",key:t},u.a.createElement("div",{className:"d-flex justify-content-between"},u.a.createElement("label",{className:"label-txt"},"Video ",t+1," URL"),n.length>1&&u.a.createElement("span",{className:"itemDelete",onClick:function(a){return e.removeId(a,t)}},"+")),u.a.createElement(v.default,{groupClass:"input-style",name:"videoUrl",value:a.videoUrl,isValid:!l.videoUrl,errorMsg:l.videoUrl,inputChange:function(a){return e.inputChange(a,t)},dom:{placeholder:"Video URL"}}),u.a.createElement("label",{className:"label-txt"},"Upload Thumbnail"),u.a.createElement(v.default,{name:"videoThumb",groupClass:"input-style",value:a.videoThumb,isValid:!l.videoThumb,errorMsg:l.videoThumb,inputChange:function(a){return e.inputChange(a,t)},section:"aioi",dom:{type:"file",placeholder:"Upload Thumbnail"}},u.a.createElement("p",{className:"input-style"},a.videoThumb?a.videoThumb:"Upload Thumbnail")),u.a.createElement("label",{className:"label-txt"},"About"),u.a.createElement("textarea",{className:"input-style h100px",name:"about",value:a.about,onChange:function(a){return e.inputChange(a,t)}}),u.a.createElement("div",{className:"social-icon"},u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"s",index:t,fb:a.fb,tw:a.tw,insta:a.insta,linkedIn:a.linkedIn},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-facebook-square"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"s",index:t,fb:a.fb,tw:a.tw,insta:a.insta,linkedIn:a.linkedIn},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-twitter"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"s",index:t,fb:a.fb,tw:a.tw,insta:a.insta,linkedIn:a.linkedIn},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-instagram"}))),u.a.createElement(I.default,{className:"ico-Box",data:{showCustomModal:!0,addon:!0,title:"",path:"IndiaofIdeas/sharelink",body:"",data:{type:"s",index:t,fb:a.fb,tw:a.tw,insta:a.insta,linkedIn:a.linkedIn},className:"modal-small"}},u.a.createElement("span",null,u.a.createElement("i",{className:"fa fa-link"})))))}))),u.a.createElement("div",{className:"text-right"},N&&u.a.createElement("div",{className:"btn mr10",onClick:this.deleteItem},"delete"),u.a.createElement("div",{className:"btn ".concat(f?"btndisabled":""),onClick:this.onSubmit},N?"update":"save")),u.a.createElement(k.default,{toastmessage:this.props.toastmessage}))}}]),a}(m.Component);a.default=Object(p.b)(function(e){var a=e.auth.token,t=e.page,l=t.individualItem.data,s=void 0===l?{}:l,o=t.itemLoader,n=void 0!==o&&o,i=t.updatedData;return{token:a,itemData:s,itemLoader:n,updatedData:void 0===i?{}:i}},{updatePageData:g.g,getIndividualItem:g.b,resetPageStore:g.d})(y)}}]);
//# sourceMappingURL=4.eb50233e.chunk.js.map