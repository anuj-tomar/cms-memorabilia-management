(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{218:function(e,t,a){"use strict";a.r(t);var l=a(27),n=a(16),s=a(17),i=a(19),r=a(18),o=a(20),c=a(0),m=a.n(c),d=a(13),u=a(73),p=a(10),v=a(26),g=a(4),E=a(47),h=a(30),b=a(8),N=a(6),f=a(213),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).intialiseState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{image:Object(g.d)(e,"image",""),title:Object(g.d)(e,"title",""),nature:Object(g.d)(e,"nature",""),venue:Object(g.d)(e,"venue",""),about:Object(g.d)(e,"about",""),eventDate:Object(g.d)(e,"eventDate",null),time:Object(g.d)(e,"time",""),memberOnly:Object(g.d)(e,"memberOnly",!0),errorMessages:{},isValid:{},isinit:t,isSaving:!1}},a.validate=function(e,t){var l=a.state,n=l.isValid,s=l.errorMessages,i=Object(E.a)(e,t,{type:"text"});n[e]=i.isValid,i.isValid?delete s[e]:s[e]=i.errorMsg,a.setState({isValid:n,errorMessages:s})},a.inputChange=function(e){var t=e.target,n=t.name,s=t.value,i=t.checked,r=t.type;a.setState(Object(l.a)({},n,"checkbox"===r?i:s),function(){a.validate(n,s)})},a.onSubmit=function(e){if(e.preventDefault(),["title","nature","venue","about","eventDate","time"].forEach(function(e){a.validate(e,a.state[e])}),0===Object.keys(a.state.errorMessages).length){a.setState({error:"",isSaving:!0});var t=Object.assign({},a.state);t.token=a.props.token,delete t.errorMessages,delete t.isValid,a.props.updatePageData({payload:t,url:"".concat(N.d.EVENT_MANAGE).concat(a.props.id?"/"+a.props.id:""),method:a.props.id?"PUT":"POST",action:a.props.id?"update":"add",page:"event"},function(e){e.status?(a.setState({error:"",isSaving:!1}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message,isSaving:!1})})}},a.deleteItem=function(e){a.props.updatePageData({payload:{},params:{token:a.props.token},url:"".concat(N.d.EVENT_MANAGE,"/").concat(a.props.id),method:"DELETE",action:"delete",page:"event"},function(e){e.status?(a.setState({error:""}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message})})},a.onDrop=function(e){e.length&&(a.setState({bulkFiles:e}),a.toggleUploader(!0))},a.toggleUploader=function(e){a.setState({isUploader:e})},a.setBulkPhotos=function(e){if(console.log(e),e&&e.length){var t=e[0];a.setState({image:t.thumbnail,isUploader:!1,isImageAdded:!0})}},a.state=a.intialiseState(),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.id&&this.props.getIndividualItem({params:{token:this.props.token},url:"".concat(N.d.EVENT_MANAGE,"/").concat(this.props.id)})}},{key:"componentWillUnmount",value:function(){this.props.resetPageStore("individualItem")}},{key:"componentDidUpdate",value:function(e,t){if(e.itemData!=this.props.itemData&&t.isinit&&Object(h.d)(this.props.itemData)&&!Object(h.c)(this.props.itemData)){var a=this.intialiseState(this.props.itemData,!1);this.setState(a)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.bulkFiles,l=t.isUploader,n=t.image,s=t.title,i=t.nature,r=t.venue,o=t.about,c=t.eventDate,d=t.time,g=t.memberOnly,E=t.errorMessages,h=t.isValid,b=t.isSaving,N=this.props,O=N.itemLoader,k=N.id,D=N.CATEGORY,y=N.VENUES;return m.a.createElement(m.a.Fragment,null,l&&m.a.createElement("div",{className:"editProfile mt30"},m.a.createElement(f.default,{files:a,onComplete:this.setBulkPhotos,onBack:this.toggleUploader,folder:k?"user":"temp",id:k||this.tempId,uploadType:"userImage",isSideNav:!1,not_upload:!0,isPopup:!0,config:{aspectRatio:"p2"}})),O&&m.a.createElement(v.default,null),!O&&!l&&m.a.createElement("div",{className:"eventModal"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-7"},m.a.createElement("p",{className:"title-txt"},k?"EDIT EVENT":"ADD A NEW EVENT"),m.a.createElement("div",{className:"left-content"},m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-4"},m.a.createElement("label",{className:"label-txt"},"Title of Event")),m.a.createElement("div",{className:"col-8"},m.a.createElement(p.default,{name:"title",groupClass:"input-style",value:s,isValid:h.title,errorMsg:E.title,inputChange:this.inputChange,dom:{placeholder:"Title of Event"}}))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-4"},m.a.createElement("label",{className:"label-txt"},"Nature of Event")),m.a.createElement("div",{className:"col-8"},m.a.createElement(p.default,{name:"nature",groupClass:"input-style",value:i,isValid:h.nature,errorMsg:E.nature,inputChange:this.inputChange,options:D,dom:{placeholder:"Nature of Event",type:"select"}}))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-4"},m.a.createElement("label",{className:"label-txt"},"Venue")),m.a.createElement("div",{className:"col-8"},m.a.createElement(p.default,{name:"venue",groupClass:"input-style",value:r,isValid:h.venue,errorMsg:E.venue,inputChange:this.inputChange,options:y,dom:{placeholder:"Venue",type:"select"}}))))),m.a.createElement("div",{className:"col-5"},m.a.createElement("div",{className:"right-content"},m.a.createElement(u.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a)}},m.a.createElement("div",{className:"image-style upload-photo "+(n&&"uploadtxt"),style:{backgroundImage:"url(".concat(n,")")}},m.a.createElement("img",{src:"./images/imagesize16_9.png",className:"w100per",alt:"b"}))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-3"},m.a.createElement("label",{className:"label-txt"},"Date")),m.a.createElement("div",{className:"col-9"},m.a.createElement(p.default,{name:"eventDate",value:c,isValid:h.eventDate,errorMsg:E.eventDate,inputChange:this.inputChange,dom:{placeholder:"Date",type:"date"}}))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-3"},m.a.createElement("label",{className:"label-txt"},"Time")),m.a.createElement("div",{className:"col-9"},m.a.createElement(p.default,{name:"time",value:d,groupClass:"w100per",isValid:h.time,errorMsg:E.time,inputChange:this.inputChange,dom:{placeholder:"Time",type:"time"}})))))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-2"},m.a.createElement("label",{className:"label-txt"},"About the Event")),m.a.createElement("div",{className:"col-10"},m.a.createElement("div",{className:"aboutEvent pl15"},m.a.createElement("textarea",{name:"about",value:o,onChange:this.inputChange,className:"input-style h100px"})))),m.a.createElement("div",{className:"row no-gutters"},m.a.createElement("div",{className:"col-2"},m.a.createElement("label",{className:"label-txt"},"Members only")),m.a.createElement("div",{className:"member-checkbox"},m.a.createElement("input",{type:"checkbox",name:"memberOnly",value:g,checked:g,onChange:this.inputChange}))),m.a.createElement("div",{className:"text-right"},k&&m.a.createElement("div",{className:"btn mr10",onClick:this.deleteItem},"delete"),m.a.createElement("div",{className:"btn ".concat(b?"btndisabled":""),onClick:this.onSubmit},k?"update":"save"))))}}]),t}(c.Component);t.default=Object(d.b)(function(e){var t=e.auth.token,a=e.page,l=a.individualItem.data,n=void 0===l?{}:l,s=a.itemLoader;return{token:t,itemData:n,itemLoader:void 0!==s&&s}},function(e,t){return{updatePageData:function(t,a){return e(Object(b.g)(t,a))},getIndividualItem:function(t){return e(Object(b.b)(t))},resetPageStore:function(t){return e(Object(b.d)(t))}}})(O)}}]);
//# sourceMappingURL=7.6abffc4c.chunk.js.map