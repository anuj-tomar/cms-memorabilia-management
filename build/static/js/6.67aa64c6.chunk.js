(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{217:function(e,t,a){"use strict";a.r(t);var s=a(27),i=a(16),o=a(17),r=a(19),n=a(18),l=a(20),c=a(0),p=a.n(c),d=a(13),m=a(73),u=a(10),g=a(30),v=a(4),h=a(47),f=a(8),b=a(6),S=a(213),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(r.a)(this,Object(n.a)(t).call(this,e))).intialiseState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{image:Object(v.d)(e,"photo"),category:Object(v.d)(e,"category",""),errorMessages:{},isValid:{},isinit:t}},a.validate=function(e,t){var s=a.state,i=s.isValid,o=s.errorMessages,r=Object(h.a)(e,t,{type:"text"});i[e]=r.isValid,r.isValid?delete o[e]:o[e]=r.errorMsg,a.setState({isValid:i,errorMessages:o})},a.inputChange=function(e){var t=e.target,i=t.name,o=t.value,r=t.checked,n=t.type;a.setState(Object(s.a)({},i,"checkbox"===n?r:o),function(){a.validate(i,o)})},a.onSubmit=function(e){if(e.preventDefault(),a.validate("category",a.state.category),a.setState({error:""}),0===Object.keys(a.state.errorMessages).length){a.setState({isSaving:!0});var t=Object.assign({},a.state);t.token=a.props.token,delete t.errorMessages,delete t.isValid,a.props.updatePageData({payload:t,url:"".concat(b.d.QSPECIAL_MANAGE).concat(a.props.id?"/"+a.props.id:""),method:a.props.id?"PUT":"POST",action:a.props.id?"update":"add",page:"qspecial"},function(e){e.status?(a.setState({error:"",isSaving:!1}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message,isSaving:!1})})}},a.deleteItem=function(e){a.props.updatePageData({payload:{},params:{token:a.props.token},url:"".concat(b.d.QSPECIAL_MANAGE,"/").concat(a.props.id),method:"DELETE",action:"delete",page:"qspecial"},function(e){e.status?(a.setState({error:""}),a.props.toastmessage(e.message),a.props.closeModal()):a.setState({error:e.message})})},a.onDrop=function(e){e.length&&(a.setState({bulkFiles:e}),a.toggleUploader(!0))},a.toggleUploader=function(e){a.setState({isUploader:e})},a.setBulkPhotos=function(e){if(e&&e.length){var t=e[0];a.setState({image:t.thumbnail,isUploader:!1,isImageAdded:!0})}},a.state=a.intialiseState(),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.id&&this.props.getIndividualItem({params:{token:this.props.token},url:"".concat(b.d.QSPECIAL_MANAGE,"/").concat(this.props.id)})}},{key:"componentWillUnmount",value:function(){this.props.resetPageStore("individualItem")}},{key:"componentDidUpdate",value:function(e,t){if(e.itemData!=this.props.itemData&&t.isinit&&Object(g.d)(this.props.itemData)&&!Object(g.c)(this.props.itemData)){var a=this.intialiseState(this.props.itemData,!1);this.setState(a)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.bulkFiles,s=t.isUploader,i=t.image,o=t.category,r=t.errorMessages,n=t.isValid,l=t.isSaving,c=this.props,d=c.id,g=c.qsCatList;return p.a.createElement(p.a.Fragment,null,s&&p.a.createElement("div",{className:"editProfile mt30"},p.a.createElement(S.default,{files:a,onComplete:this.setBulkPhotos,onBack:this.toggleUploader,folder:d?"user":"temp",id:d||this.tempId,uploadType:"userImage",isSideNav:!1,config:{aspectRatio:"p2"},not_upload:!1,isPopup:!0,buttons:["r"]})),!s&&p.a.createElement("div",{className:"eventModal QspecialModal"},p.a.createElement("p",{className:"title-txt"},d?"EDIT Q SPECIAL":"ADD NEW Q SPECIAL"),p.a.createElement("div",{className:"row no-gutters"},p.a.createElement("div",{className:"col-4"},p.a.createElement(m.a,{style:{position:"relative"},accept:"image/jpeg, image/png",multiple:!1,onDrop:function(t,a){e.onDrop(t,a)}},p.a.createElement("div",{className:"image-style upload-photo "+(i&&"uploadtxt"),style:{backgroundImage:"url(".concat(i,")")}},p.a.createElement("img",{src:"./images/imagesize2_3.png",className:"w100per",alt:"b"})))),p.a.createElement("div",{className:"col-5"},p.a.createElement("div",{className:"select-casting select-catgry cursor-default"},p.a.createElement(u.default,{className:"text-truncate text-uppercase color-white",name:"category",value:o,isValid:n.category,errorMsg:r.category,inputChange:this.inputChange,options:g,dom:{placeholder:"By category",type:"select"}})))),p.a.createElement("div",{className:"text-right mt40"},d&&p.a.createElement("div",{className:"btn mr10",onClick:this.deleteItem},"Delete"),p.a.createElement("div",{className:"btn ".concat(l?"btndisabled":""),onClick:this.onSubmit},d?"update":"save"))))}}]),t}(c.Component);t.default=Object(d.b)(function(e){var t=e.auth.token,a=e.page,s=a.individualItem.data,i=void 0===s?{}:s,o=a.itemLoader,r=void 0!==o&&o,n=a.qsCatList;return{token:t,itemData:i,itemLoader:r,qsCatList:void 0===n?{}:n}},{updatePageData:f.g,getIndividualItem:f.b,resetPageStore:f.d})(E)}}]);
//# sourceMappingURL=6.67aa64c6.chunk.js.map